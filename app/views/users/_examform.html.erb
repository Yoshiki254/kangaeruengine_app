<%# Conditionally set remote: true. Also, passing model name as data attribute %>
<% modal ||= false %>
<% remote = modal ? true : false %>
<div class="m0dal" id="new_users_exam_modal" >
	<div class="m-dialog">
    <div class="m-header">
    	<button type="button" class="close" id="m-close" data-dismiss="modal" aria-hidden="true">&times;</button>
    	<p>考えるエンジン検定</p>
        <h4 class="m-title" id="myModalLabel"><%= exam.name %></h4>
    </div>
		<div class="m-body">
			<%= form_for [current_user, @users_exam], remote: remote, html: {role: :form, 'data-model' => 'users_exam'} do |f| %>

			  <% if @users_exam.errors.any? %>
			    <div id="error_explanation">
			      <ul>
				      <% @users_exam.errors.full_messages.each do |msg| %>
				        <li><%= msg %></li>
				      <% end %>
			      </ul>
			    </div>
			  <% end %>

			  <div class="form-group">
			    <%= f.label :受検日, class: 'control-label' %>
			    <strong><%= f.date_field :date, class: 'form-control' %></strong>
			    <span class="help-block"></span>
			    <%= f.hidden_field :exam_id, :value => exam.id %>
			  </div>

			  <div class="actions">
			    <%= f.submit 'Submit', id: "btn btn-submit" %>
			  </div>
			<% end %>
    </div>
	</div>
</div>

